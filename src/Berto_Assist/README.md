# Berto Assist

The Berto Assist driver exposes selected Control4 devices to the Berto Cloud which provides integration to [Google Assistant](https://assistant.google.com). The driver requires a Berto premium subscription, please email support@berto.co.uk or details.

The driver needs to be linked to you Google account from within Google Assitant by going into Settings->Home->Add to add the Berto Assist Google service. You will then be asked for a 4 digit Link Code which can be generated byu sing the Link System action on the driver. Once you enter the Link Code your device configuration will be syncronised with your Google account. Subsequent adding and removing of devices will require the Sync System action to be performed to re-syncronise your devices with Google.

## Properties

* Assist Token - The system generated token created when linking the driver to Google Assistant.
* Assist Devices - The devices that you want to export to Google Assist for control and querying.
* Add Room Watch Devices - Automatically add all availabvle watch devices for each room.
* Add Room List Devices - Automatically add all availabvle watch devices for each room.

## Actions

* Link System - Generate a 4 digit Link Cide which appears in the Assist Token property for 60 seconds to allow you to link your system to Google.
* Sync System - Will re-syncronise your devices with your Google account.

## Programming 

Messages received update the UPDATE, TOPIC, MESSAGE and NUMBER variables which can be used under programming. The NUMBER variable is any number specified in the MESSAGE received. You can also Publish your own messages to any Topic under programming Actions.

The MESSAGE_RECEIVED event is fired when a message is received from the Home Assistant topic.

There is also a KEEPALIVE variable which is updated every 10 seconds showing the age of the last keepalive packet received. This can be used to force a reconnection to the broker using the Restart MQTT command.

## Release Notes

### v1 - 2019-04-17

- Initial Release

## Licence

[DM](../../LICENSE.md)