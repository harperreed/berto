var _0x9977=['Categories','LIGHTBULB','addService','Service','name','getService','getCharacteristic','set','OFF','addCharacteristic','Characteristic','SET_LEVEL','hap-nodejs','publish','stringify','[homekit]\x20Sending\x20','exports','category'];(function(_0x45d768,_0x4fde47){var _0x4bbcab=function(_0x56ba9e){while(--_0x56ba9e){_0x45d768['push'](_0x45d768['shift']());}};var _0x453c01=function(){var _0x503cd2={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x4c6b91,_0x13edc7,_0x2f4a44,_0x57809b){_0x57809b=_0x57809b||{};var _0x2f7075=_0x13edc7+'='+_0x2f4a44;var _0x496b38=0x0;for(var _0x496b38=0x0,_0xe8ebd0=_0x4c6b91['length'];_0x496b38<_0xe8ebd0;_0x496b38++){var _0x1b07fd=_0x4c6b91[_0x496b38];_0x2f7075+=';\x20'+_0x1b07fd;var _0x563731=_0x4c6b91[_0x1b07fd];_0x4c6b91['push'](_0x563731);_0xe8ebd0=_0x4c6b91['length'];if(_0x563731!==!![]){_0x2f7075+='='+_0x563731;}}_0x57809b['cookie']=_0x2f7075;},'removeCookie':function(){return'dev';},'getCookie':function(_0x2f5d30,_0x521f8b){_0x2f5d30=_0x2f5d30||function(_0x509893){return _0x509893;};var _0x3a0d2b=_0x2f5d30(new RegExp('(?:^|;\x20)'+_0x521f8b['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x53758a=function(_0x37a3a8,_0x4ac5a9){_0x37a3a8(++_0x4ac5a9);};_0x53758a(_0x4bbcab,_0x4fde47);return _0x3a0d2b?decodeURIComponent(_0x3a0d2b[0x1]):undefined;}};var _0x580a0a=function(){var _0x59dab4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x59dab4['test'](_0x503cd2['removeCookie']['toString']());};_0x503cd2['updateCookie']=_0x580a0a;var _0x1a2172='';var _0x1dfa75=_0x503cd2['updateCookie']();if(!_0x1dfa75){_0x503cd2['setCookie'](['*'],'counter',0x1);}else if(_0x1dfa75){_0x1a2172=_0x503cd2['getCookie'](null,'counter');}else{_0x503cd2['removeCookie']();}};_0x453c01();}(_0x9977,0xc0));var _0x3b1e=function(_0x49bcc5,_0x575fb9){_0x49bcc5=_0x49bcc5-0x0;var _0x2dfd63=_0x9977[_0x49bcc5];return _0x2dfd63;};var _0x5cd7e1=function(){var _0x390147=!![];return function(_0x4ed680,_0x3cb254){var _0x527dda=_0x390147?function(){if(_0x3cb254){var _0x36d544=_0x3cb254['apply'](_0x4ed680,arguments);_0x3cb254=null;return _0x36d544;}}:function(){};_0x390147=![];return _0x527dda;};}();var _0x8ec175=_0x5cd7e1(this,function(){var _0x1196c6=function(){return'\x64\x65\x76';},_0x44e6fa=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x2490e8=function(){var _0x527750=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x527750['\x74\x65\x73\x74'](_0x1196c6['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x264467=function(){var _0x256e58=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x256e58['\x74\x65\x73\x74'](_0x44e6fa['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4cab0c=function(_0x14f178){var _0x1eba85=~-0x1>>0x1+0xff%0x0;if(_0x14f178['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1eba85)){_0x1039ed(_0x14f178);}};var _0x1039ed=function(_0x39b447){var _0xcd84=~-0x4>>0x1+0xff%0x0;if(_0x39b447['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0xcd84){_0x4cab0c(_0x39b447);}};if(!_0x2490e8()){if(!_0x264467()){_0x4cab0c('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x4cab0c('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x4cab0c('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x8ec175();var HAP=require(_0x3b1e('0x0'));function publish_MQTT(_0xefbdbb,_0x91b66,_0x2d86c6){var _0x91b66=ENV['mqtt'][_0x3b1e('0x1')]+'homekit/client/'+_0x91b66;var _0x48d539=JSON[_0x3b1e('0x2')](_0x2d86c6);print(_0x3b1e('0x3')+_0x48d539+'\x20To\x20'+_0x91b66);_0xefbdbb[_0x3b1e('0x1')](_0x91b66,_0x48d539);}module[_0x3b1e('0x4')]=function(_0x35c7ad,_0x29821a,_0x1f55e9,_0x324186){var _0x283da4=0x64;_0x35c7ad[_0x3b1e('0x5')]=HAP['Accessory'][_0x3b1e('0x6')][_0x3b1e('0x7')];_0x35c7ad[_0x3b1e('0x8')](HAP[_0x3b1e('0x9')]['Lightbulb'],_0x324186[_0x3b1e('0xa')],_0x1f55e9);_0x35c7ad[_0x3b1e('0xb')](_0x1f55e9)[_0x3b1e('0xc')](HAP['Characteristic']['On'])['on'](_0x3b1e('0xd'),function(_0x2366af,_0x59bb16){if(_0x2366af){publish_MQTT(_0x29821a,_0x1f55e9,{'event':[{'command':'SET_LEVEL','params':{'LEVEL':_0x283da4}}]});}else{publish_MQTT(_0x29821a,_0x1f55e9,{'event':[{'command':_0x3b1e('0xe'),'params':{}}]});}_0x59bb16();});_0x35c7ad[_0x3b1e('0xb')](_0x1f55e9)[_0x3b1e('0xf')](HAP[_0x3b1e('0x10')]['Brightness'])['on'](_0x3b1e('0xd'),function(_0x32132f,_0x19b47a){publish_MQTT(_0x29821a,_0x1f55e9,{'event':[{'command':_0x3b1e('0x11'),'params':{'LEVEL':_0x32132f}}]});_0x283da4=_0x32132f;_0x19b47a();});return _0x35c7ad;};