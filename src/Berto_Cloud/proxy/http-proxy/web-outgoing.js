var _0x17db=['rewriteCookieProperty','domain','toLowerCase','path','trim','string','rawHeaders','length','keys','forEach','statusMessage','exports','1.0','headers','connection','close','httpVersion','2.0','hostRewrite','autoRewrite','protocolRewrite','location','test','statusCode','target','parse','host','cookieDomainRewrite','preserveHeaderKeyCase','set-cookie'];(function(_0x5f4eab,_0x149ad4){var _0x254cb5=function(_0x432ac1){while(--_0x432ac1){_0x5f4eab['push'](_0x5f4eab['shift']());}};var _0x17f8b7=function(){var _0x730449={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x40a93e,_0x300bb8,_0x23ac4e,_0xd5bd83){_0xd5bd83=_0xd5bd83||{};var _0x2e372b=_0x300bb8+'='+_0x23ac4e;var _0x277304=0x0;for(var _0x277304=0x0,_0x584ae0=_0x40a93e['length'];_0x277304<_0x584ae0;_0x277304++){var _0x54790d=_0x40a93e[_0x277304];_0x2e372b+=';\x20'+_0x54790d;var _0x19a138=_0x40a93e[_0x54790d];_0x40a93e['push'](_0x19a138);_0x584ae0=_0x40a93e['length'];if(_0x19a138!==!![]){_0x2e372b+='='+_0x19a138;}}_0xd5bd83['cookie']=_0x2e372b;},'removeCookie':function(){return'dev';},'getCookie':function(_0x1e07d2,_0x3dd624){_0x1e07d2=_0x1e07d2||function(_0x106756){return _0x106756;};var _0x41fec0=_0x1e07d2(new RegExp('(?:^|;\x20)'+_0x3dd624['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1ff817=function(_0x5f3929,_0x18be7e){_0x5f3929(++_0x18be7e);};_0x1ff817(_0x254cb5,_0x149ad4);return _0x41fec0?decodeURIComponent(_0x41fec0[0x1]):undefined;}};var _0x50bd90=function(){var _0x4e5025=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4e5025['test'](_0x730449['removeCookie']['toString']());};_0x730449['updateCookie']=_0x50bd90;var _0x2758da='';var _0x252901=_0x730449['updateCookie']();if(!_0x252901){_0x730449['setCookie'](['*'],'counter',0x1);}else if(_0x252901){_0x2758da=_0x730449['getCookie'](null,'counter');}else{_0x730449['removeCookie']();}};_0x17f8b7();}(_0x17db,0xa1));var _0x465c=function(_0xc1c5e,_0x10ee0f){_0xc1c5e=_0xc1c5e-0x0;var _0x229e9e=_0x17db[_0xc1c5e];return _0x229e9e;};var _0x40995d=function(){var _0x12fd86=!![];return function(_0x39af2f,_0x20f260){var _0x1ffe28=_0x12fd86?function(){if(_0x20f260){var _0x43fc51=_0x20f260['apply'](_0x39af2f,arguments);_0x20f260=null;return _0x43fc51;}}:function(){};_0x12fd86=![];return _0x1ffe28;};}();var _0x4d907a=_0x40995d(this,function(){var _0x106765=function(){return'\x64\x65\x76';},_0x1277b7=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0xd2845f=function(){var _0x4992ac=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x4992ac['\x74\x65\x73\x74'](_0x106765['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x1be04a=function(){var _0x1a0d17=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x1a0d17['\x74\x65\x73\x74'](_0x1277b7['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x48caef=function(_0x6d37e3){var _0x2bfd10=~-0x1>>0x1+0xff%0x0;if(_0x6d37e3['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x2bfd10)){_0x4a1118(_0x6d37e3);}};var _0x4a1118=function(_0x40cf51){var _0x39eaef=~-0x4>>0x1+0xff%0x0;if(_0x40cf51['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0x39eaef){_0x48caef(_0x40cf51);}};if(!_0xd2845f()){if(!_0x1be04a()){_0x48caef('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x48caef('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x48caef('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x4d907a();var url=require('url'),common=require('./common');var redirectRegex=/^201|30(1|2|7|8)$/;module[_0x465c('0x0')]={'removeChunked':function removeChunked(_0x27422c,_0x243a7c,_0x1ea69f){if(_0x27422c['httpVersion']===_0x465c('0x1')){delete _0x1ea69f[_0x465c('0x2')]['transfer-encoding'];}},'setConnection':function setConnection(_0x1d2125,_0x44a658,_0xa0b868){if(_0x1d2125['httpVersion']===_0x465c('0x1')){_0xa0b868[_0x465c('0x2')][_0x465c('0x3')]=_0x1d2125[_0x465c('0x2')][_0x465c('0x3')]||_0x465c('0x4');}else if(_0x1d2125[_0x465c('0x5')]!==_0x465c('0x6')&&!_0xa0b868[_0x465c('0x2')]['connection']){_0xa0b868[_0x465c('0x2')][_0x465c('0x3')]=_0x1d2125['headers'][_0x465c('0x3')]||'keep-alive';}},'setRedirectHostRewrite':function setRedirectHostRewrite(_0x1cb682,_0x217fc3,_0x26f889,_0x2e630f){if((_0x2e630f[_0x465c('0x7')]||_0x2e630f[_0x465c('0x8')]||_0x2e630f[_0x465c('0x9')])&&_0x26f889[_0x465c('0x2')][_0x465c('0xa')]&&redirectRegex[_0x465c('0xb')](_0x26f889[_0x465c('0xc')])){var _0x26b649=url['parse'](_0x2e630f[_0x465c('0xd')]);var _0x4f212a=url[_0x465c('0xe')](_0x26f889[_0x465c('0x2')][_0x465c('0xa')]);if(_0x26b649['host']!=_0x4f212a[_0x465c('0xf')]){return;}if(_0x2e630f['hostRewrite']){_0x4f212a[_0x465c('0xf')]=_0x2e630f[_0x465c('0x7')];}else if(_0x2e630f[_0x465c('0x8')]){_0x4f212a[_0x465c('0xf')]=_0x1cb682[_0x465c('0x2')][_0x465c('0xf')];}if(_0x2e630f['protocolRewrite']){_0x4f212a['protocol']=_0x2e630f[_0x465c('0x9')];}_0x26f889['headers'][_0x465c('0xa')]=_0x4f212a['format']();}},'writeHeaders':function writeHeaders(_0x1d8fbd,_0x29b325,_0x4dcc0a,_0x366ff4){var _0x5c420b=_0x366ff4[_0x465c('0x10')],_0x5ce9f8=_0x366ff4['cookiePathRewrite'],_0x47d989=_0x366ff4[_0x465c('0x11')],_0x40728b,_0x59bdd8=function(_0x25cba9,_0x4e7842){if(_0x4e7842==undefined)return;if(_0x5c420b&&_0x25cba9['toLowerCase']()===_0x465c('0x12')){_0x4e7842=common[_0x465c('0x13')](_0x4e7842,_0x5c420b,_0x465c('0x14'));}if(_0x5ce9f8&&_0x25cba9[_0x465c('0x15')]()===_0x465c('0x12')){_0x4e7842=common['rewriteCookieProperty'](_0x4e7842,_0x5ce9f8,_0x465c('0x16'));}_0x29b325['setHeader'](String(_0x25cba9)[_0x465c('0x17')](),_0x4e7842);};if(typeof _0x5c420b==='string'){_0x5c420b={'*':_0x5c420b};}if(typeof _0x5ce9f8===_0x465c('0x18')){_0x5ce9f8={'*':_0x5ce9f8};}if(_0x47d989&&_0x4dcc0a[_0x465c('0x19')]!=undefined){_0x40728b={};for(var _0x43f4c7=0x0;_0x43f4c7<_0x4dcc0a[_0x465c('0x19')][_0x465c('0x1a')];_0x43f4c7+=0x2){var _0x105caf=_0x4dcc0a['rawHeaders'][_0x43f4c7];_0x40728b[_0x105caf[_0x465c('0x15')]()]=_0x105caf;}}Object[_0x465c('0x1b')](_0x4dcc0a['headers'])[_0x465c('0x1c')](function(_0x105caf){var _0x2cb95d=_0x4dcc0a[_0x465c('0x2')][_0x105caf];if(_0x47d989&&_0x40728b){_0x105caf=_0x40728b[_0x105caf]||_0x105caf;}_0x59bdd8(_0x105caf,_0x2cb95d);});},'writeStatusCode':function writeStatusCode(_0x5a826a,_0x38e171,_0x2c5e7c){if(_0x2c5e7c[_0x465c('0x1d')]){_0x38e171[_0x465c('0xc')]=_0x2c5e7c[_0x465c('0xc')];_0x38e171[_0x465c('0x1d')]=_0x2c5e7c[_0x465c('0x1d')];}else{_0x38e171['statusCode']=_0x2c5e7c[_0x465c('0xc')];}}};